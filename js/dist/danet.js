var u="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1";async function o(e,t){return(await req(e,{method:"get",headers:{"User-Agent":t||u}})).content}var a="https://danet.vn",d="",c=0;async function g(e){d=e.skey,c=e.stype}async function y(){let t=JSON.parse(await o(`${a}/api/movie-playlists/133/movies?limit=20&page=1`)).results.map(s=>({vod_id:s.uid,vod_name:`${s.title}`,vod_pic:s.poster,vod_remarks:s.quality}));return JSON.stringify({list:t})}async function m(e){let s=JSON.parse(await o(`${a}/api/movie-playlists?limit=10&module_id=2&page=1`)).results.map(i=>({id:i.id,name:i.name}));return JSON.stringify({class:s,filters:{}})}async function f(e,t,s,i){let r=[];e&&(r=JSON.parse(await o(`${a}/api/movie-playlists/${e}/movies?limit=20&page=1`)).results);let n=r.length,p=r.map(l=>({vod_id:l.uid,vod_name:l.title,vod_pic:l.poster,vod_remarks:l.quality}));return JSON.stringify({page:1,pagecount:1,limit:n,total:n,list:p})}async function v(e){let t=JSON.parse(await o(`${a}/api/movies/${e}`)),s=JSON.parse(await o(`${a}/api/movies/${e}/episodes?limit=50&page=1`)).results,i={vod_id:t.uid,vod_pic:t.poster,vod_name:t.title,vod_play_from:"Danet",vod_play_url:"",vod_director:t.movie_directors.map(r=>r.name).join(","),vod_area:t.movie_country?t.movie_country.name:"",vod_actor:"",vod_year:t.release_year,vod_content:t.summary};return i.vod_play_url=s.map(r=>`${r.title}$${t.uid}-${r.uid}`).join("#"),JSON.stringify({list:[i]})}async function _(e,t,s){let[i,r]=t.split("-"),p=JSON.parse(await o(`${a}/api/movies/${i}/episodes/${r}/locations`)).streams?.[0]?.file_location;return JSON.stringify({parse:0,url:p})}async function S(e,t,s){let r=JSON.parse(await o(`${a}/api/movies?limit=20&page=1&q=${e}`)).results.map(n=>({vod_id:n.uid,vod_name:n.title,vod_pic:n.poster,vod_remarks:n.quality}));return JSON.stringify({list:r})}function $(){return{init:g,home:m,homeVod:y,category:f,detail:v,play:_,search:S}}export{$ as __jsEvalReturn};
