var S="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1";async function u(t,e){return(await req(t,{method:"get",headers:{"User-Agent":S,...e}})).content}function x(t){if(Array.isArray(t))return!0;if(typeof t!="object"||!Object.prototype.hasOwnProperty.call(t,"length")||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}function M(t,e){let n=[];for(let a=0;a<t.length;a++)n.push(e(t[a],a));return n}function y(t,e){return x(t)?M(t,e):Object.keys(t).map(n=>e(t[n],n))}function d(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0}function h(t,e){return t.reduce((n,a)=>{let r=typeof e=="string"?_(a,e):e(a),s=n[r]||[];return s.push(a),{...n,[r]:s}},{})}function _(t,e,n){let a=e.split(/[.[\]]/).filter(Boolean).reduce((r,s)=>r?.[s],t);return a!==void 0?a:n}function m(t){return new Date(t).toLocaleString("vi-VN",{hour:"numeric",minute:"numeric",day:"2-digit",month:"2-digit"})}var g="https://api.vebo.xyz",v="",O=0;async function w(t){v=t.skey,O=t.stype}async function L(t){let e=JSON.parse(await u(g+"/api/match/featured/mt")).data,n=JSON.parse(await u(g+"/api/match/featured")).data,a={},r=h(e,c=>n.some(l=>l.id===c.id)?"featured":c.match_status),s={featured:"N\u1ED5i b\u1EADt",live:"\u0110ang di\u1EC5n ra",pending:"S\u1EAFp di\u1EC5n ra"},o={featured:0,live:1,pending:2},i=Object.entries(r).map(([c,l])=>{let b=h(l.sort((p,T)=>T.tournament.priority-p.tournament.priority),"tournament.name"),f={key:"tag",name:"Type",init:"",value:Object.entries(b).map(([p])=>({n:p,v:p}))};return f.value.length>0&&(f.init=f.value[0].v,a[c]=[f]),{id:c,name:s[c]||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"}}).sort((c,l)=>o[c.id]-o[l.id]);return JSON.stringify({class:i,filters:a})}async function R(){let e=JSON.parse(await u(`${g}/api/match/featured`)).data.sort((n,a)=>a.tournament.priority-n.tournament.priority).map(n=>({vod_id:n.id,vod_name:n.name,vod_pic:n.tournament.logo,vod_remarks:m(n.timestamp)}));return JSON.stringify({list:e})}async function P(t,e,n,a){let r=[];t==="featured"?r=JSON.parse(await u(`${g}/api/match/featured`)).data:(r=JSON.parse(await u(`${g}/api/match/featured/mt`)).data,t&&(r=r.filter(i=>i.match_status===t))),a.tag&&(r=r.filter(i=>i.tournament.name===a.tag));let s=r.length,o=r.sort((i,c)=>c.tournament.priority-i.tournament.priority).map(i=>({vod_id:i.id,vod_name:i.name,vod_pic:i.tournament.logo,vod_remarks:m(i.timestamp)}));return JSON.stringify({page:1,pagecount:1,limit:s,total:s,list:o})}async function C(t){let e=JSON.parse(await u(`${g}/api/match/${t}`)).data,n=JSON.parse(await u(`${g}/api/match/${t}/meta`)).data,a={vod_id:t,vod_pic:e.tournament.logo,vod_name:`${e.home.name} ${e.scores.home} - ${e.scores.away} ${e.away.name}`,vod_play_from:d(n.play_urls)?"":"VeboTV",vod_play_url:d(n.play_urls)?"":n.play_urls.map(r=>`${r.name}$${r.url}`).join("#"),vod_remarks:e.tournament.name,vod_actor:n.commentators?n.commentators.map(r=>r.name).join(" vs "):"",vod_content:e.name};return JSON.stringify({list:[a]})}async function D(t,e,n){return JSON.stringify({parse:0,url:e})}async function j(t,e,n){let r=JSON.parse(await u(`${g}/api/match/featured/mt`)).data.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())),s=y(r,o=>({vod_id:o.id,vod_name:o.name,vod_pic:o.tournament.logo,vod_remarks:o.date}));return JSON.stringify({list:s})}function B(){return{init:w,home:L,homeVod:R,category:P,detail:C,play:D,search:j}}export{B as __jsEvalReturn};
