var T="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1";async function c(t,e){return(await req(t,{method:"get",headers:{"User-Agent":T,...e}})).content}function S(t){if(Array.isArray(t))return!0;if(typeof t!="object"||!Object.prototype.hasOwnProperty.call(t,"length")||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}function v(t,e){let a=[];for(let n=0;n<t.length;n++)a.push(e(t[n],n));return a}function y(t,e){return S(t)?v(t,e):Object.keys(t).map(a=>e(t[a],a))}function h(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0}function m(t,e){return t.reduce((a,n)=>{let r=typeof e=="string"?M(n,e):e(n),o=a[r]||[];return o.push(n),{...a,[r]:o}},{})}function M(t,e,a){let n=e.split(/[.[\]]/).filter(Boolean).reduce((r,o)=>r?.[o],t);return n!==void 0?n:a}function d(t){return new Date(t).toLocaleString("vi-VN",{hour:"numeric",minute:"numeric",day:"2-digit",month:"2-digit"})}var l="https://api.vebo.xyz",x="",O=0;async function w(t){x=t.skey,O=t.stype}async function $(t){let e=JSON.parse(await c(l+"/api/match/featured/mt")).data,a=JSON.parse(await c(l+"/api/match/featured")).data,n={},r=m(e,u=>a.some(g=>g.id===u.id)?"featured":u.match_status),o={featured:"N\u1ED5i b\u1EADt",live:"\u0110ang di\u1EC5n ra",pending:"S\u1EAFp di\u1EC5n ra"},i={featured:0,live:1,pending:2},s=Object.entries(r).map(([u,g])=>{let b=m(g.sort((f,_)=>_.tournament.priority-f.tournament.priority),"tournament.name"),p={key:"tag",name:"Type",init:"",value:Object.entries(b).map(([f])=>({n:f,v:f}))};return p.value.length>0&&(p.init=p.value[0].v,n[u]=[p]),{id:u,name:o[u]||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"}}).sort((u,g)=>i[u.id]-i[g.id]);return JSON.stringify({class:[{id:"highlight",name:"Highlight"}].concat(s),filters:n})}async function L(){let e=JSON.parse(await c(`${l}/api/match/featured`)).data.sort((a,n)=>n.tournament.priority-a.tournament.priority).map(a=>({vod_id:a.id,vod_name:a.name,vod_pic:a.tournament.logo,vod_remarks:d(a.timestamp)}));return JSON.stringify({list:e})}async function R(t,e,a,n){let r=[];if(t==="highlight"){let s=JSON.parse(await c(`${l}/api/news/vebotv/list/highlight/${e}`)).data,u=s.list.map(g=>({vod_id:`${g.id}_${t}`,vod_name:g.name,vod_pic:g.feature_image,vod_remarks:d(g.updated_at)}));return JSON.stringify({page:s.page,pagecount:Math.round(s.total/s.limit),limit:s.limit,total:s.total,list:u})}t==="featured"?r=JSON.parse(await c(`${l}/api/match/featured`)).data:(r=JSON.parse(await c(`${l}/api/match/featured/mt`)).data,t&&(r=r.filter(s=>s.match_status===t))),n.tag&&(r=r.filter(s=>s.tournament.name===n.tag));let o=r.length,i=r.sort((s,u)=>u.tournament.priority-s.tournament.priority).map(s=>({vod_id:`${s.id}_${t}`,vod_name:s.name,vod_pic:s.tournament.logo,vod_remarks:d(s.timestamp)}));return JSON.stringify({page:1,pagecount:1,limit:o,total:o,list:i})}async function P(t){let[e,a]=t.split("_");if(a==="highlight"){let i=JSON.parse(await c(`${l}/api/news/vebotv/detail/${e}`)).data;return JSON.stringify({list:[{vod_id:e,vod_pic:i.feature_image,vod_name:i.name,vod_play_from:"VeboTV",vod_play_url:`Full$${i.video_url}`,vod_remarks:d(i.updated_at),vod_content:i.content}]})}let n=JSON.parse(await c(`${l}/api/match/${e}`)).data,r=JSON.parse(await c(`${l}/api/match/${e}/meta`)).data,o={vod_id:e,vod_pic:n.tournament.logo,vod_name:`${n.home.name} ${n.scores.home} - ${n.scores.away} ${n.away.name}`,vod_play_from:h(r.play_urls)?"":"VeboTV",vod_play_url:h(r.play_urls)?"":r.play_urls.map(i=>`${i.name}$${i.url}`).join("#"),vod_remarks:n.tournament.name,vod_actor:r.commentators?r.commentators.map(i=>i.name).join(" vs "):"",vod_content:n.name};return JSON.stringify({list:[o]})}async function N(t,e,a){return JSON.stringify({parse:0,url:e})}async function k(t,e,a){let r=JSON.parse(await c(`${l}/api/match/featured/mt`)).data.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())),o=y(r,i=>({vod_id:i.id,vod_name:i.name,vod_pic:i.tournament.logo,vod_remarks:i.date}));return JSON.stringify({list:o})}function B(){return{init:w,home:$,homeVod:L,category:R,detail:P,play:N,search:k}}export{B as __jsEvalReturn};
